language: cpp
compiler: g++
dist: trusty
notifications:
  email:
    recipients:
      - enrico.mingo@iit.it 
    on_success: never
    on_failure: always
# Handle git submodules yourself
#git:
#    submodules: false
# Use sed to replace the SSH URL with the public URL, then initialize submodules
sudo: required
before_install:
    #- go get ADVRHumanoids/xbotcoremodel.git
    #- sed -i 's/git@github.com:/https:\/\/github.com\//' .gitmodules
    #- git submodule update --init --recursive
script: 
#config git
- git config --global user.name "EnricoMingo"
- git config --global user.email "enricomingo@gmail.com"
#source env variables and install missing packages and ROS
- sudo apt-get install cmake
- sudo sh -c 'echo "deb http://packages.ros.org/ros/ubuntu $(lsb_release -sc) main" > /etc/apt/sources.list.d/ros-latest.list'
- sudo apt-key adv --keyserver hkp://ha.pool.sks-keyservers.net:80 --recv-key 421C365BD9FF1F717815A3895523BAEEB01FA116
- sudo apt-get update
- sudo apt-get install ros-indigo-desktop
- sudo rosdep init
- rosdep update
- source opt/ros/indigo/setup.bash
- pwd
- ls
- ./scripts/get_dependencies.sh
- chmod 777 ./OpenSoT-setup.bash
- source ./OpenSoT-setup.bash
- pip install catkin_pkg
- pip install empy
#Build
- mkdir -p build
- cd build
- make
############
#- ./mytest
#- make test
